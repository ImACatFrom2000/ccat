<!DOCTYPE html>
<html lang = "ja">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="stylesheet" href="../css/reset.css">
        <link rel="stylesheet" href="style.css">
        <title>10進数から2進数・16進数へ変換</title>
    </head>
    <body>
        <header>
            <h1>16進数から10進数へ変換</h1>
        </header>
        <main>
            <form class="form">
                <p>1以上の整数を16進数で入力してください。A~Fは大文字で入力してください。</p>
                <input type="text" name="num" style="border: 1px solid black;">
                <input type="submit" value="変換" style="border: 1px solid black; background-color: gray; color: white;">
            </form>
            <div class="output">
                <p>10進数: <span id="change10"></span></p>
            </div>
        </main>
        <aside>
            <h3>関連リンク</h3>
            <ul>
                <li><a href="index.html">10進数から2進数・16進数へ変換</a></li>
                <li><a href="index2.html">2進数から10進数へ変換</a></li>
                <li><a href="index3.html">16進数から10進数へ変換</a></li>
            </ul>
        </aside>
        <footer>
            <p><small>Nanami Kondou</small></p>
        </footer>
        <script src="../scripts/jquery-3.7.1.min.js"></script>
        <script>
            'use strict';

            $(document).ready(function(){
                $('input[type="submit"]').on('click', function(){
                    event.preventDefault();
                    const num16 = document.querySelector('input[type="text"]').value;
                    let num10 = 0;

                    const arr = num16.split('');    //入力された文字列を一文字ごとに区切って配列にする
                    const digit = arr.length;

                    let i;
                    let add;

                    for(i=0; i<digit; i++){
                        if(arr[i] >= 0 && arr[i]<10){
                            add = arr[i];
                        } else if(arr[i] === 'A'){
                            add = 10;
                        } else if(arr[i] === 'B'){
                            add = 11;
                        } else if(arr[i] === 'C'){
                            add = 12;
                        } else if(arr[i] === 'D'){
                            add = 13;
                        } else if(arr[i] === 'E'){
                            add = 14;
                        } else if(arr[i] === 'F'){
                            add = 15;
                        }
                        num10 += add * (16 **(digit - i - 1));
                    }
                    $('#change10').text(num10);
                })
            })
        </script>
    </body>
</html>